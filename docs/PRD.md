# AI MCP TODO アプリケーション - PRD (Product Requirements Document)

## 概要

AI MCP TODO アプリケーションは、AIがMaster Control Program (MCP)として機能し、タスク管理を行うためのシンプルなRESTful APIサービスです。AIは優先順位の高いタスクから順に処理し、進捗を報告し、完了させることができます。

## 目的

本アプリケーションの目的は、以下の通りです：

1. AIがタスク管理を自律的に行うためのインターフェースを提供する
2. ユーザーが定義したタスクをAIが優先順位に基づいて処理できるようにする
3. タスクの進捗状況を追跡・報告できるようにする
4. シンプルかつ拡張可能なアーキテクチャを提供する

## ユーザー

主なユーザーは以下の2つです：

1. **エンドユーザー（人間）**: タスクを定義し、AIに処理させる人
2. **AI**: APIを通じてタスクを取得し、処理を行い、進捗を報告するエージェント

## 機能要件

### 必須機能

1. **タスク管理**
   - タスクの作成、取得、更新、削除
   - タスクに優先順位を設定
   - タスクの状態（TODO、進行中、完了）を管理

2. **サブタスク管理**
   - タスクにサブタスクを追加、更新、削除
   - サブタスクの状態管理

3. **優先順位ベースのタスク取得**
   - AIが次に処理すべき最も優先度の高いタスクを取得

4. **進捗報告**
   - AIがタスクの進捗状況を報告
   - タスクを完了としてマーク

### オプション機能（将来拡張可能）

1. タスク間の依存関係の管理
2. スケジュール機能
3. タグによる分類
4. マイルストーン機能
5. 通知機能

## 非機能要件

1. **パフォーマンス**
   - 個人用アプリケーションのため、高度なパフォーマンス最適化は不要

2. **セキュリティ**
   - 個人用アプリケーションのため、認証機能は不要

3. **データ永続化**
   - JSONファイルによるシンプルなデータ保存

4. **プラットフォーム**
   - Python環境で動作すること

## 技術仕様

### バックエンド
- **言語**: Python
- **フレームワーク**: FastAPI
- **データストレージ**: JSONファイル

### API
- RESTful API
- JSON形式でのデータ交換

## インターフェース

### API エンドポイント

1. **タスク管理**
   - `GET /tasks` - すべてのタスクを取得
   - `GET /tasks/{task_id}` - 特定のタスクを取得
   - `POST /tasks` - 新しいタスクを作成
   - `PUT /tasks/{task_id}` - タスクを更新
   - `DELETE /tasks/{task_id}` - タスクを削除

2. **サブタスク管理**
   - `POST /tasks/{task_id}/subtasks` - サブタスクを追加
   - `PUT /tasks/{task_id}/subtasks/{subtask_id}` - サブタスクを更新
   - `DELETE /tasks/{task_id}/subtasks/{subtask_id}` - サブタスクを削除

3. **AI用特殊エンドポイント**
   - `GET /next-task` - 次に処理すべきタスクを取得
   - `PUT /tasks/{task_id}/progress` - タスクの進捗を更新
   - `PUT /tasks/{task_id}/complete` - タスクを完了としてマーク

## 制約事項

- 個人用アプリケーションを想定
- 認証機能は実装しない
- 高度なスケーラビリティは考慮しない

## 成功基準

- AIがタスクを自律的に取得、処理、完了できること
- タスクの優先順位が正しく反映されること
- データが正しく永続化されること